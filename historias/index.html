<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Historias de Ã‰xito â€” GatoHogar</title>
    <meta name="description"
        content="LeÃ© las emocionantes historias de los gatitos de GatoHogar que ya encontraron su familia definitiva.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Lilita+One&family=Nunito:ital,wght@0,400;0,600;0,800;0,900;1,400;1,800&family=Permanent+Marker&display=swap"
        rel="stylesheet">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Vue.js CDN -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <!-- JS compartido y configuraciÃ³n -->
    <script src="../src/js/globales.js"></script>
    <!-- LÃ³gica de vista -->
    <script src="../src/js/vistas/historias.js" defer></script>
    <link rel="stylesheet" href="../src/css/estilos.css">
</head>

<body>
    <div id="app">
        <componente-navbar></componente-navbar>

        <header class="bg-turquesa py-14 px-6 md:py-20 md:px-10 pb-[60px] relative overflow-hidden text-center">
            <div
                class="absolute text-[300px] opacity-[0.06] -top-10 -right-[30px] pointer-events-none rotate-[20deg] select-none">
                ğŸ˜»</div>
            <h1
                class="font-lilita text-[clamp(40px,6vw,72px)] text-blanco mb-4 relative z-10 leading-tight text-shadow-negro">
                Historias de Ã‰xito ğŸ˜»</h1>
            <p class="text-[18px] text-white/85 max-w-[650px] mx-auto mb-8 font-semibold leading-relaxed relative z-10">
                Porque cada final feliz es el comienzo de una nueva vida. ConocÃ© a los valientes que ya estÃ¡n en casa.
            </p>
        </header>

        <!-- FILTROS -->
        <nav
            class="bg-blanco border-b-[4px] border-negro py-4 md:py-5 px-5 md:px-10 flex gap-3 flex-wrap items-center relative z-50 shadow-[0_4px_0_#1C1410]">
            <span class="font-black text-[14px] text-negro">Filtrar por:</span>
            <button v-for="cat in categorias" :key="cat.valor"
                class="bg-crema border-[3px] border-negro rounded-full px-5 py-2 font-nunito font-black text-[14px] text-negro cursor-pointer shadow-[3px_3px_0_#1C1410] transition-all duration-150 hover:bg-miel hover:-translate-x-0.5 hover:-translate-y-0.5 hover:shadow-[5px_5px_0_#1C1410] [&.activo]:bg-miel [&.activo]:-translate-x-0.5 [&.activo]:-translate-y-0.5 [&.activo]:shadow-[5px_5px_0_#1C1410]"
                :class="{ activo: categoriaActiva === cat.valor }" @click="categoriaActiva = cat.valor">
                {{ cat.etiqueta }}
            </button>
        </nav>

        <section class="py-14 md:py-20 px-6 md:px-10 bg-crema min-h-[500px]">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-[1200px] mx-auto">
                <article v-for="(historia, i) in historiasFiltradas" :key="i"
                    class="bg-blanco border-[4px] border-negro rounded-[24px] p-8 shadow-[8px_8px_0_#1C1410] transition-all duration-200 hover:-translate-y-2 hover:shadow-[12px_12px_0_#1C1410] flex flex-col"
                    :class="[i % 2 === 0 ? 'rotate-1' : '-rotate-1']">

                    <div class="flex items-center gap-4 mb-6">
                        <span class="text-[54px]">{{ historia.emoji }}</span>
                        <div>
                            <h3 class="font-lilita text-[22px] text-negro leading-tight">{{ historia.titulo }}</h3>
                            <span class="text-[12px] font-black uppercase text-oxido tracking-wider">{{
                                historia.categoria }}</span>
                        </div>
                    </div>

                    <div
                        class="bg-crema border-[3px] border-negro rounded-xl p-5 mb-6 flex-1 italic text-[15px] font-semibold text-marron leading-relaxed">
                        "{{ historia.resumen }}"
                    </div>

                    <p class="text-[14px] text-gris font-medium mb-6 leading-relaxed whitespace-pre-line">
                        {{ historia.historia.substring(0, 150) }}...
                    </p>

                    <div
                        class="mt-auto pt-5 border-t-2 border-dashed border-gris/30 flex justify-between items-center text-[12px] font-black text-gris/60 uppercase">
                        <span>ğŸ“ {{ historia.ciudad }}</span>
                        <span>ğŸ“… {{ historia.fecha }}</span>
                    </div>
                </article>
            </div>

            <div v-if="historiasFiltradas.length === 0" class="text-center py-20">
                <span class="text-[80px] block mb-4">ğŸ˜¿</span>
                <p class="font-lilita text-[24px] text-gris">TodavÃ­a no tenemos historias en esta categorÃ­a...</p>
            </div>
        </section>

        <componente-footer></componente-footer>
    </div>
</body>

</html>