<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¬°Juega! ‚Äî Wordle Felino ‚Äî GatoHogar</title>
    <meta name="description" content="¬°Adivin√° el nombre del gato en 6 intentos! El Wordle felino de GatoHogar.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Lilita+One&family=Nunito:ital,wght@0,400;0,600;0,800;0,900;1,400;1,800&family=Permanent+Marker&display=swap"
        rel="stylesheet">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Vue.js CDN -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <!-- JS compartido y configuraci√≥n -->
    <script src="src/js/globales.js"></script>
    <!-- L√≥gica del juego -->
    <script src="src/js/juego.js" defer></script>
    <!-- Estilos propios -->
    <link rel="stylesheet" href="src/css/estilos.css">

</head>

<body>
    <div id="app">
        <componente-navbar></componente-navbar>

        <div class="min-h-[calc(100vh-120px)] bg-crema py-10 px-5 flex flex-col items-center">
            <!-- T√≠tulo -->
            <div class="font-[Permanent_Marker] text-[clamp(28px,5vw,44px)] text-oxido text-center mb-1.5">üêæ Wordle
                Felino</div>
            <div class="text-[15px] text-gris font-bold text-center mb-7">Adivin√° el nombre del gato en {{ maxIntentos
                }} intentos</div>

            <!-- Categor√≠a de la palabra -->
            <div class="mb-5">
                <span
                    class="inline-block bg-turquesa border-[3px] border-negro rounded-xl py-1.5 px-4 font-nunito font-black text-[13px] uppercase tracking-wider text-negro shadow-[3px_3px_0_#1C1410] mb-0 transform-none">{{
                    categoriaActual }}</span>
            </div>

            <!-- Mensaje -->
            <div v-if="mensaje"
                class="font-lilita text-[22px] text-center py-4 px-7 border-[4px] border-negro rounded-2xl shadow-[5px_5px_0_#1C1410] mb-4"
                :class="{'bg-[#4CAF50] text-white': tipoMensaje === 'ganaste', 'bg-oxido text-white': tipoMensaje === 'perdiste', 'bg-miel text-negro': tipoMensaje === 'info'}">
                {{ mensaje }}
            </div>

            <!-- Grilla del Wordle -->
            <div class="flex flex-col gap-2 mb-6">
                <div v-for="(fila, f) in grilla" :key="f" class="flex gap-2">
                    <div v-for="(celda, c) in fila" :key="c"
                        class="w-12 h-12 sm:w-[60px] sm:h-[60px] border-[4px] border-negro rounded-xl flex items-center justify-center font-lilita text-[20px] sm:text-[26px] font-black uppercase shadow-[4px_4px_0_#1C1410] transition-all duration-200"
                        :class="{
              'bg-[#4CAF50] text-white border-[#388E3C]': celda.estado === 'correcta',
              'bg-ambar text-white border-oxido': celda.estado === 'presente',
              'bg-gris text-white border-marron':  celda.estado === 'ausente',
              'bg-blanco text-negro': celda.estado === '',
              'border-oxido shadow-[4px_4px_0_var(--tw-colors-oxido)] scale-105': f === intentoActual && celda.letra !== '' && celda.estado === ''}">
                        {{ celda.letra }}
                    </div>
                </div>
            </div>

            <!-- Leyenda -->
            <div class="flex gap-4 flex-wrap justify-center mb-5">
                <div class="flex items-center gap-1.5 text-[13px] font-bold text-negro">
                    <div
                        class="w-7 h-7 border-[3px] border-negro rounded-md flex items-center justify-center text-[10px] font-black text-white bg-[#4CAF50]">
                        A</div>
                    <span>Posici√≥n correcta</span>
                </div>
                <div class="flex items-center gap-1.5 text-[13px] font-bold text-negro">
                    <div
                        class="w-7 h-7 border-[3px] border-negro rounded-md flex items-center justify-center text-[10px] font-black text-white bg-ambar">
                        B</div>
                    <span>Est√° en la palabra</span>
                </div>
                <div class="flex items-center gap-1.5 text-[13px] font-bold text-negro">
                    <div
                        class="w-7 h-7 border-[3px] border-negro rounded-md flex items-center justify-center text-[10px] font-black text-white bg-gris">
                        C</div>
                    <span>No est√° en la palabra</span>
                </div>
            </div>

            <!-- Teclado virtual -->
            <div class="flex flex-col gap-2 items-center mb-6" v-if="!juegoTerminado">
                <div v-for="(fila, i) in filasletras" :key="i" class="flex gap-1.5">
                    <button v-if="i === 2"
                        class="border-[3px] border-negro rounded-lg bg-blanco text-negro font-nunito font-black uppercase cursor-pointer shadow-[3px_3px_0_#1C1410] transition-all duration-100 hover:-translate-x-[1px] hover:-translate-y-[1px] hover:shadow-[4px_4px_0_#1C1410] active:translate-x-[1px] active:translate-y-[1px] active:shadow-[2px_2px_0_#1C1410] min-w-[28px] sm:min-w-[36px] py-[10px] px-1.5 sm:py-3 sm:px-4 text-[13px]"
                        @click="borrar">‚å´</button>
                    <button v-for="letra in fila" :key="letra"
                        class="border-[3px] border-negro rounded-lg font-nunito font-black uppercase cursor-pointer shadow-[3px_3px_0_#1C1410] transition-all duration-100 hover:-translate-x-[1px] hover:-translate-y-[1px] hover:shadow-[4px_4px_0_#1C1410] active:translate-x-[1px] active:translate-y-[1px] active:shadow-[2px_2px_0_#1C1410] min-w-[28px] sm:min-w-[36px] py-[10px] px-1.5 sm:py-3 sm:px-2.5 text-[13px] sm:text-[14px]"
                        :class="{
                        'bg-[#4CAF50] text-white border-[#388E3C]': estadosTeclas[letra] === 'correcta',
                        'bg-ambar text-white border-oxido': estadosTeclas[letra] === 'presente',
                        'bg-gris text-white border-marron': estadosTeclas[letra] === 'ausente',
                        'bg-blanco text-negro': !estadosTeclas[letra]
                    }" @click="ingresarLetra(letra)">{{ letra }}</button>
                    <button v-if="i === 2"
                        class="border-[3px] border-negro rounded-lg bg-blanco text-negro font-nunito font-black uppercase cursor-pointer shadow-[3px_3px_0_#1C1410] transition-all duration-100 hover:-translate-x-[1px] hover:-translate-y-[1px] hover:shadow-[4px_4px_0_#1C1410] active:translate-x-[1px] active:translate-y-[1px] active:shadow-[2px_2px_0_#1C1410] min-w-[28px] sm:min-w-[36px] py-[10px] px-1.5 sm:py-3 sm:px-4 text-[13px]"
                        @click="confirmarIntento">‚Üµ</button>
                </div>
            </div>

            <!-- Botones finales -->
            <div v-if="juegoTerminado" class="flex gap-3 flex-wrap justify-center mt-3">
                <button
                    class="inline-block bg-oxido text-blanco border-[3px] border-negro rounded-xl py-2.5 px-5 font-nunito font-black text-[15px] cursor-pointer shadow-[4px_4px_0_#1C1410] no-underline transition-all duration-150 text-center hover:-translate-y-0.5 hover:-translate-x-0.5 hover:shadow-[6px_6px_0_#1C1410] hover:bg-ambar hover:text-negro max-w-full truncate"
                    @click="reiniciarJuego">Jugar de nuevo üîÑ</button>
                <a href="catalogo.html"
                    class="inline-block bg-crema text-negro border-[3px] border-negro rounded-xl py-2.5 px-5 font-nunito font-black text-[15px] cursor-pointer shadow-[4px_4px_0_#1C1410] no-underline transition-all duration-150 text-center hover:-translate-y-0.5 hover:-translate-x-0.5 hover:shadow-[6px_6px_0_#1C1410] hover:bg-miel max-w-full truncate">Ver
                    al {{ palabraSecreta }} real üê±</a>
            </div>

            <!-- Contador de intentos -->
            <div class="mt-5 text-[14px] font-extrabold text-gris" v-if="!juegoTerminado">
                Intento {{ intentoActual + 1 }} de {{ maxIntentos }}
            </div>
        </div>

        <componente-footer></componente-footer>
    </div>

</body>

</html>